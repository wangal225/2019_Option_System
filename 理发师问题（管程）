#define  sofa=5
int waiting=0;
Semaphore customers=0,barbers=0,mutex=1;
void Customer{
          wait(mutex);
          if(waiting<sofa)
	{waiting++;
	signal(customers)
	signal(mutex);
	wait(barbers);
	Get_haircut();
	}
	else{
	signal(mutex);
	}
}	
void Barber{
         while(1)
        {
	wait(customers);
	wait(mutex);
	waiting--;
	signal(barbers);	
	signal(mutex);
	Cut_hair();
	}
}

void main(){
         cobein
	Customer();     Barber();
         coend
}
